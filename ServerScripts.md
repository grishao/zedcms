# Серверный скрипт #
Серверный скрипт необходим для выполнения каких-либо задач фреймворка ZedCMS на стороне сервера, без участия WEB сервера. Серверный скрипт - это обычный php скрипт, с определенными строками вначале скрипта, необходимые для запуска фреймворка ZedCMS.

# Размещение серверного скрипта #
Все серверные скрипты размещаются в папке **/server\_scripts/** исключительно в папке сайта.

# Запуск серверных скриптов #
Серверный скрипт может быть запущен с помощью следующей строки:
  * **`/usr/bin/php -f /myuser/www.site1.com/server_scripts/myscript.php domain=www.site1.com`**

Параметр **domain** должен быть передан, для корректного определения [конфигурации сайта](SiteConfiguration.md).

# Содержание серверного скрипта #
Для запуска фреймворка ZedCMS в самом начале скрипта должно быть следующее:
```
<?
// ЗАПУСКАТЬ ТОЛЬКО С ПАРАМЕТРОМ domain=www.yourdomain.com
// Необходимые вызовы для запуска фреймворка
define("Z_CONFIG_FILE",realpath(dirname(__FILE__) . '/../configs/config.ini'));
require(dirname(__FILE__) . '/../../z.common/server_scripts/index.php');
?>
```

Далее в скрипте могут быть любые вызовы либо [компонентов](Components.md) сайта, либо [библиотек](Libraries.md). Например, можно вызвать отправку очереди писем:
```
<?
// ЗАПУСКАТЬ ТОЛЬКО С ПАРАМЕТРОМ domain=www.yourdomain.com
// Необходимые вызовы для запуска фреймворка
define("Z_CONFIG_FILE",realpath(dirname(__FILE__) . '/../configs/config.ini'));
require(dirname(__FILE__) . '/../../z.common/server_scripts/index.php');

// Отправляем Mailы
Z_Mail_Send::processMessages();
?>
```

**Внимание!** При вызове скрипта через CRON в случае, если скрипт будет выводить что-то на экран, это будет немедленно отправляться администратору сервера по почте. По этому весь вывод серверного скрипта запускаемого через крон должен быть связан исключительно с ошибками выполнения, которые будут информировать администратора.