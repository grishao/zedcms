# Вставка данных mySQL #
Рассмотрим пример вставки одной строки:
```
global $DB;

$data = array(
   "field1" => "field1_value",
   "field2" => "field2_value"
);

$inserted_line_id = $DB->insertTable("mytable_name", array($data));
```
**Внимание!** При вставке одной строки не забывайте обарачивать данные в массив.

Вставка нескольких строк:
```
global $DB;

$lines = array();
$lines[] = array(
   "field1" => "field1_value",
   "field2" => "field2_value"
);
$lines[] = array(
   "field1" => "field3_value",
   "field2" => "field4_value"
);

$last_inserted_line_id = $DB->insertTable("mytable_name", $lines);
```

Метод **insertTable** имеет так же третий параметр **$suffix=""**, в который можно передать любую строку, которая будет добавлена к запросу **INSERT**, например, **ON DUPLICATE UPDATE**.

Фреймворк автоматически формирует запрос **INSERT** и при вставке нескольких строк отправляет один запрос.

**Экранировать данные не требуется**, фреймворк автоматически экранирует и вставляет данные, как строка.

# Обновление данных mySQL #
Рассмотрим обновление на примере:
```
global $DB;

$update_data = array(
   "id" => 23,
   "field1" => "field1_value",
   "field2" => "field2_value"
);

$DB->updateRow("mytable_name", $update_data, array("id"));
```

В метод **updateRow** нужно передать название таблицы, данные для обновления (с ключевыми полями), и массив названий полей, которые являются ключем строки.

# Удаление данных mySQL #
Удаление данных производится через ручной запрос:
```
global $DB;

$DB->Query("DELETE FROM mytable_name WHERE id=5");
```

# Обработка ошибок #
При любых запросах, если ошибка содержится в самом запросе, возникает исключение с остановкой работы скрипта и выводом ошибки и запроса на экран.

При вставке строки с существующим id метод **insertTable** возвращает текст ошибки (не число).

При обновлении строки, метод **updateRow** возвращает число измененных строк.